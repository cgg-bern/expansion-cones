

project(ShrinkAndExpand)
cmake_minimum_required(VERSION 3.20)

    
#enable those only when debugging
#add_compile_options(-fsanitize=address)
#add_link_options(-fsanitize=address)


add_subdirectory(OpenVolumeMesh)

#find_package(ortools CONFIG REQUIRED)
#find_package(Gurobi REQUIRED)
#include_directories(${GUROBI_INCLUDE_DIRS})


include_directories(ProgressiveEmbedding/)

set(SOURCE_FILES
    ShrinkAndExpand.cc
    BatchCollapser.cc
    TetMeshBoundarySplitter.cc
    BadTetFinder.cc
    TopoHelper.cc
    SphereMapper.cc
    Expander.cc
    ExpansionDataLogger.cc
    ExpansionCone.cc
    ConnectedVertexSubsetIterator.cc
    StarShapifyableExpansionCone.cc
    PrecisionDiagnostics.cc
    TetMapper.cc
    LightWeightStopWatch.cc
    OtherHelpers.cc

    ProgressiveEmbedding/EdgeCollapser.cc
    ProgressiveEmbedding/TopologicalLink.cc
    ProgressiveEmbedding/TopologicalFaceSet.cc
    ProgressiveEmbedding/Uncollapser.cc
    ProgressiveEmbedding/EdgeCycle.cc
    ProgressiveEmbedding/SubTriangleMap.cc
    ProgressiveEmbedding/ProgressiveEmbedder.cc
    ProgressiveEmbedding/ProgEmbeddingHelpers.cc
    ProgressiveEmbedding/MeshTopologicalComparator.cc
    ProgressiveEmbedding/GeometryHelper.cc)
    
#add_executable(ShrinkAndExpand ${SOURCE_FILES})
add_executable(ShrinkAndExpand temp_main.cc)

#set_target_properties(ShrinkAndExpand PROPERTIES
#    CXX_STANDARD 17
#    CXX_STANDARD_REQUIRED ON
#    CXX_EXTENSIONS OFF)

target_compile_features(ShrinkAndExpand PUBLIC cxx_std_17)
    
#message("gurobi libraries: " ${GUROBI_LIBRARIES})

target_link_libraries(ShrinkAndExpand
    #OpenVolumeMesh::OpenVolumeMesh
    #OpenMeshCore
    #CGAL
    #Qt5::Core
    #${GUROBI_LIBRARIES}
    #CoMISo
    )


